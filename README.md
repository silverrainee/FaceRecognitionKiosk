# 얼굴인식 키오스크 명세서

# 1. 개요

### 프로젝트 요약

얼굴 인식으로 사용자를 특정하고 사용자의 연령을 추정할 수 있는 임베디드 시스템 기반의 키오스크 제작 프로젝트. 사용자의 연령 및 이전 사용 정보에 따라 알맞은 UI/UX를 제공할 수 있는 스마트 키오스크이다.

프로젝트 개요

- 프로젝트명 : 얼굴인식 키오스크
- 개발 기간 : 2023-01-03 ~ 2023-02-17 (7주)
- 핵심 기능
    - 얼굴 인식 - 사용자 나이 추정
    - 얼굴 인식 - 사용자 특정
    - 간편모드 키오스크
    - 관리자 웹페이지
- 개발 환경
    - 개발 언어 : Python, Java, JavaScript
    - 개발 환경 : VSCode, Spring, Node.js, Raspberry Pi, OpenCV, TensorFlow Lite
    - 협업 툴 : GitLap, Jira
    - 와이어 프레임 툴 : Figma
    - ERD 툴 : draw.io
- 개발 인원
    - 개발 인원 : 6명
    - Front-End
        - 김영준
        - 김유진
    - Back-End
        - 김도윤
    - Embedded
        - 정찬영
        - 선민영
        - 조은비

### 기획 배경

정보화 시대의 시작과 빠른 기술 발전으로 인해 이러한 변화에 빠르게 대응하고 적응하지 못한 분들은 편리하게 사용하고 이용하던 것들을 더 이상 편리하게 사용하지 못하고 심지어 이러한 점들에 대해 포기하는 분들이 생기게 되며, 이러한 양극화 현상은 점차 심화되고 있습니다.

저희는 이러한 양극화 현상에 대한 문제점을 인식하고, 가장 자주, 많이 일어나고 많은 이슈가 되는 부분이 어느 부분인지 알아보았으며, 이러한 양극화 현상이 가장 많이 나타나고 있는 분야 중 하나는 음식점의 키오스크라고 생각합니다.

음식점이나 카페에서는 키오스크를 잘 사용하는 분들도 있지만, 주문의 시작부터 힘들어 하시며 잘 이용하지 못하는 분들을 많이 발견할 수 있고, 심지어 주문을 포기하고 가시는 분들도 있습니다.

이러한 키오스크는 패스트푸드점을 시작으로 현재는 우리의 일상에서 뗄레야 뗄 수 없는 부분이 되었으나, 아직 이런 기술에 익숙하지 않은 분들과 이러한 기계를 사용하지 못하는 분들에게는 불편함만을 주고 더 나아가 편하게 누려야 할 당연한 권리도 누리지 못하게 만들어 차별의 기분을 느끼게 만들었습니다.

이러한 양극화 현상은 등장 이후 개선의 방향보다는 점차 심화되고 있어, 이에 대한 문제점을 분석하고 해결 방안을 마련해야 한다고 생각합니다.

### 기획 의도

저희의 기획 의도는 모든 사람들이 불편함 없이 키오스크를 사용할 수 있도록 만드는 것입니다. 이를 위해, 우리는 다양한 방법으로 노력하고 있습니다. 예를 들어, 키오스크는 얼굴 인식 기술을 사용하여 사용자를 특정합니다. 이것은 사용자가 자신의 정보를 입력하지 않아도 쉽게 사용할 수 있도록 도와줍니다. 또한, 사용자의 연령에 따라 알맞은 UI/UX를 제공합니다. 예를 들어, 노인들은 더 큰 버튼과 그림으로 이루어진 UI를 사용할 수 있습니다. 또한, 간편모드로도 사용할 수 있도록 제작됩니다. 이 모드는 키오스크를 처음 사용하는 사용자들이 더 쉽게 접근할 수 있도록 도와줍니다. 이러한 변화는 키오스크의 대중화와 양극화 축소를 이루고, 모든 사용자들이 더 편안하게 이용할 수 있도록 합니다. 우리는 기술적인 발전을 추구하고, 끊임없이 연구와 개발을 진행하여 사용자들의 요구를 만족시키는 최상의 서비스를 제공할 것입니다.

# 2. 기능 및 요구사항

## 키오스크 인식 및 판단 로직

- 사용자 주문 시작 및 중단 의사 인식
    - 사용자 주문 시작 시, 인적 정보를 추정한 후 주문 화면으로 전환.
    - 사용자가 주문을 중단하면, 주문 정보 초기화 경고창을 출력하고 대기 화면으로 전환.
- 사용자 신장 추정
    - 신장을 추정하여 알맞은 위치에 화면을 출력.
    - 사용자의 얼굴 위치를 인식하여 사용하기 편한 높이의 위치로 키오스크의 화면을 이동.
- 사용자 연령 추정
    - 추정 연령이 60대 이상일 경우 간편 모드 주문 화면을 출력.
- 기존 사용자 정보와 매칭
    - 기존 사용자 정보와 매칭되지 않으면, 신규 사용자로 추정하고 사용자 정보를 등록.
    - 기존 사용자 정보와 매칭되면, 기존 주문 정보를 바탕으로 추천 메뉴를 배치.
    - 주문 완료 시 사용자별로 주문 목록을 서버에 저장.

## 키오스크 페이지의 기능과 요구사항

- 대기 화면
    - 손님 정보 | 주문 의사 감지중…
        - 주문 의사 감지시 주문자 정보에 따라 홈 화면으로 전환
- 홈 화면
    - 매뉴바를 선택하여 각 항목에 맞는 매뉴 출력
    - 하단에 간략화된 주문 정보 표시
    - 기본 화면은 매뉴바의 “추천 매뉴” 탭이 선택
    - 커스텀 가능한 매뉴 선택 시 커스텀 화면 열림
    - 커스텀 불가능한 매뉴 선택 시 매뉴가 주문 정보에 추가
    - 주문 정보의 매뉴는 “+”, “-” 버튼으로 수량 조절 가능
    - 결제하기 버튼으로 결제창으로 이동 가능
- 커스텀(옵션 변경) 화면
    - 기본 화면은 선택한 매뉴의 기본 구성 정보 일러스트로 표시
    - 야채 추가, 제거, 사이드 변경 등의 옵션 변경 가능
    - 옵션이 변경될 때마다 상단의 일러스트 이미지 교체
    - 옵션이 변경될 때마다 옵션에 맞는 총합 매뉴 가격 교체
    - 커스텀 완료 버튼으로 커스텀 화면 닫히고 홈 화면의 주문 정보에 커스텀된 매뉴 추가
- 결제 화면
    - 매뉴 이름, 옵션 선택 사항, 개수, 가격, 총합 가격을 포함한 모든 주문 정보 확인 가능
    - 매장/포장과 카드결제/페이결제 선택 가능
    - 결제 방법 선택 시 결제 진행
    - 결제 완료 시 “결제가 완료되었습니다.” 안내창 출력 후 대기 화면으로 이동

## 관리자 웹페이지 페이지별 기능 및 요구사항

- 매장 정보 화면(==홈 화면)
    - 매장 매뉴 정보 조회 화면
        - 매장 매뉴 정보 조회, 추가, 제거, 수정 가능
        - 매장 매뉴 추가 화면
            - 매뉴 이름, 가격, 커스텀 옵션 여부, 커스텀 옵션, 메뉴 이미지 업로드 가능
            - 추가 버튼으로 매뉴 추가 완료, 취소 버튼 시 매장 매뉴 정보 조회 화면으로 전환
        - 매장 매뉴 수정 화면
            - 매뉴 이름, 가격, 커스텀 옵션, 이미지 등 수정 가능
            - 수정 완료 버튼으로 수정 완료
            - 활성화/비활성화 버튼으로 키오스크 상의 출력 여부 조정, 삭제 버튼으로 매뉴 삭제
            - 취소 버튼으로 수정 사항 초기화 후 매장 매뉴 정보 조회 화면으로 전환
    - 매장 매출 정보 조회 화면
        - 월별 매출(전년과 비교 가능), 기간 선택 가능
        - 매뉴별 매출 정보 조회 가능
    - 매장 손님 정보 조회 화면
        - 주문자별 주문 정보 테이블 출력
            - 주문자 PK(id), 닉네임(공란 가능), 성별, 나이, 방문 횟수(==주문 횟수), 결제 가격 총합
                - 월별 혹은 일별로 조회 가능

# 3. 와이어 프레임

[https://www.figma.com/file/BpwXn6I71THhXOg2KdIpJQ/%ED%82%A4%EC%98%A4%EC%8A%A4%ED%81%AC?node-id=0%3A1](https://www.figma.com/file/BpwXn6I71THhXOg2KdIpJQ/%ED%82%A4%EC%98%A4%EC%8A%A4%ED%81%AC?node-id=0%3A1)

# 4. API

BASEURL

| url | Method | 기능 |
| --- | --- | --- |
| /kiosk-common/ | GET | 메인 화면 보여주기 |
| /kiosk-common/choice |  |  |
| /kiosk-common/pay/ | POST | 결제 |

| url | Method | 기능 |
| --- | --- | --- |
| /kiosk-easy/ | GET | 이지모드 보여주기 |
| /kiosk-easy/choice |  |  |
| /kiosk-easy/pay/ | POST | 결제 |

| url | Method | 기능 |
| --- | --- | --- |
| /kiosk-admin/menu/ | GET | 메뉴 리스트 확인 |
|  | POST | 메뉴 추가 |
|  | DELETE | 메뉴 삭제 |
|  | PUT | 메뉴 수정 |
| /kiosk-admin/user/ | GET | 유저 리스트 확인 |
|  | POST | 유저 추가 |
|  | DELETE | 유저 삭제 |
|  | PUT | 유저 수정 |
| /kiosk-admin/statistics/ | GET | 통계 확인 |

# 5. ERD

![Kiosk (2).png](%E1%84%8B%E1%85%A5%E1%86%AF%E1%84%80%E1%85%AE%E1%86%AF%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%89%E1%85%B5%E1%86%A8%20%E1%84%8F%E1%85%B5%E1%84%8B%E1%85%A9%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%89%E1%85%A6%E1%84%89%E1%85%A5%20cce0bec8f73140448c73758246a2d00a/Kiosk_(2).png)